// Generated by CoffeeScript 1.6.3
(function() {
  $(document).ready(function() {
    var ws;
    ws = new WebSocket("ws://" + location.host + "/api");
    ws.onmessage = function(msg) {
      $('#log').append("<p>" + msg.data + "</p>");
      return $('#messages-panel').scrollTop($('#messages-panel')[0].scrollHeight);
    };
    $('form').submit(function(event) {
      var msg;
      msg = $('#message-input').val();
      if (msg.length > 0) {
        ws.send(msg);
        $('#message-input').val("");
      }
      return false;
    });
    return false;
  });

}).call(this);
